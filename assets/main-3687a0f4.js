import{s as g,b,c as f,m as d,p as A,l as W}from"./footstep-6fb0c900.js";WA.onInit().then(()=>{var o=WA.sound.loadSound("./public/lava-cave.wav"),a={volume:.5,loop:!0,rate:1,detune:1,delay:0,seek:0,mute:!1};o.play(a)});console.log("Script started successfully");WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),g(),b().then(()=>{console.log("Scripting API Extra ready")}).catch(o=>console.error(o))}).catch(o=>console.error(o));WA.onInit().then(async()=>{WA.player.onPlayerMove(async({x:o,y:a,moving:e})=>{var r,n,s;const t=await f({x:o,y:a});return console.log(t),t?!e&&!t?(n=d)==null?void 0:n.stop():((s=d)==null||s.stop(),A(t)):(r=d)==null?void 0:r.stop()})});const p="abcdefghijklmnopqrstuvwxy".split("");p.forEach(o=>{p.filter(e=>e!==o).forEach(e=>{const t=`${o}2${e}`;WA.room.area.onEnter(t).subscribe(async()=>{const r=await WA.room.area.get(e);if(r){const{x:n,y:s,width:m,height:h}=r,c=n+Math.random()*m,i=s+Math.random()*h;WA.player.teleport(c,i),console.log(`Player jumped from ${o} to ${e} at coordinates (${c}, ${i})`)}else console.error(`Area ${e} not found`)})})});let u,y=!1;WA.room.area.onEnter("start_jumpingjack").subscribe(()=>{y||(u=WA.ui.openPopup("popup_jumpingjacks",`Welcome to the Jumping Jack Challenge!
 In this game, you need to cross the map from the bottom right to the top left.
The coins on the floor indicate how far you will jump when stepping on the directional arrows.
Be careful, the floor is lava 
 Good luck!`,[{label:"Close",className:"primary",callback:o=>{o.close()}}]),y=!0)});WA.room.area.onLeave("start_jumpingjack").subscribe(()=>{u&&u.close()});WA.room.area.onEnter("y2x").subscribe(async()=>{await new Promise(a=>setTimeout(a,500)),WA.controls.disableWheelZoom();const o=await WA.player.getPosition();WA.camera.set(o.x,o.y,300,300,!1,!0)});let l=0;WA.room.area.onEnter("x").subscribe(async()=>{WA.ui.actionBar.addButton({id:"reset",type:"action",imageSrc:"https://minio-production-fa1d.up.railway.app/typebot/public/workspaces/clwxv3blz001hp28kvtibhtth/typebots/cm0v10et3000ahfv7f1qc2wju/blocks/xjb2tkpg6p8vz8rgfbf0wfxe?v=1729075857883",toolTip:"return to start",callback:async()=>{const o=await WA.room.area.get("y");if(o){const{x:a,y:e,width:t,height:r}=o,n=a+Math.random()*t,s=e+Math.random()*r;WA.player.teleport(n,s),console.log(`Player teleported back to area 'y' at coordinates (${n}, ${s})`)}else console.error("Area 'y' not found")}})});p.forEach(o=>{p.filter(e=>e!==o).forEach(e=>{const t=`${o}2${e}`;WA.room.area.onEnter(t).subscribe(async()=>{const r=await WA.room.area.get(e);if(r){const{x:n,y:s,width:m,height:h}=r,c=n+Math.random()*m,i=s+Math.random()*h;WA.player.teleport(c,i),l++,console.log(`Player jumped from ${o} to ${e} at coordinates (${c}, ${i}). Jump count: ${l}`)}else console.error(`Area ${e} not found`)})})});WA.room.area.onEnter("jumping_finish").subscribe(async()=>{if(WA.player.state.hasSolved){console.log("Player has already solved the Jumping Jack Challenge. No EXP awarded.");return}let a=0;if(l<=8)a=1519;else{const e=l-8;a=Math.max(0,1519*(1-e/100))}W("JUMPING",a),console.log(`Player finished the Jumping Jack Challenge with ${l} jumps and earned ${a} EXP`),await WA.player.state.saveVariable("hasSolved",!0,{persist:!0,scope:"world"}),l=0});WA.room.area.onEnter("jumping_finish").subscribe(()=>{u=WA.ui.openPopup("popup_jumpingjacks",`Congratulations, you solved the puzzle. 
 Check out the Leaderboard to see who else solved the puzzle. 
 Click on the logo on the bottom to open the menu and navigate to "Quests" 

Leave the puzzle by entering the mouth next to you.`,[{label:"close",className:"primary",callback:o=>{o.close()}}]),y=!0});WA.onInit().then(()=>{WA.room.area.onEnter("exit1").subscribe(()=>{WA.nav.goToRoom("/")}),WA.room.area.onEnter("exit2").subscribe(()=>{WA.nav.goToRoom("/")})});
//# sourceMappingURL=main-3687a0f4.js.map
